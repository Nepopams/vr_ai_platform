# Role Boundaries: Claude vs Codex (STOP-THE-LINE)

## –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û ‚Äî –ß–∏—Ç–∞—Ç—å –ø–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º –¥–µ–π—Å—Ç–≤–∏–µ–º

### –†–æ–ª—å Claude Code –≤ —ç—Ç–æ–º –ø—Ä–æ–µ–∫—Ç–µ

```
Claude Code = Analysis & Architecture department
             (triage ‚Üí planning ‚Üí decomposition ‚Üí artifacts)

Claude Code ‚â† Development department
             (implementation –¥–µ–ª–∞–µ—Ç Codex)
```

---

## –ß–¢–û Claude –î–ï–õ–ê–ï–¢ (—Ä–∞–∑—Ä–µ—à–µ–Ω–æ)

- Triage (triage-manager)
- PI/Sprint planning (pi-planner, sprint-planner)
- Epic decomposition (epic-decomposer)
- Workpack generation (plan-generator)
- Contract/ADR/Diagram artifacts (contract-owner, adr-designer, diagram-steward)
- **Prompt generation** (prompt-plan.md, prompt-apply.md) ‚Äî –ø–æ –æ—á–µ—Ä–µ–¥–∏, –Ω–µ –≤–º–µ—Å—Ç–µ!
- Review –ø–æ—Å–ª–µ APPLY (–Ω–∞–ø—Ä—è–º—É—é, –±–µ–∑ prompt-review.md)
- –ß—Ç–µ–Ω–∏–µ –∫–æ–¥–∞ –¥–ª—è **–Ω–∞–ø–∏—Å–∞–Ω–∏—è –ø—Ä–æ–º–ø—Ç–æ–≤** (–ù–ï –¥–ª—è exploration –≤–º–µ—Å—Ç–æ Codex)

## –ß–¢–û Claude –ù–ï –î–ï–õ–ê–ï–¢ (–∑–∞–ø—Ä–µ—â–µ–Ω–æ)

- ‚ùå –°–æ–∑–¥–∞–Ω–∏–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Java/TypeScript/etc —Ñ–∞–π–ª–æ–≤ –≤ `src/`
- ‚ùå –°–æ–∑–¥–∞–Ω–∏–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤ –≤ `src/test/`
- ‚ùå –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ `./gradlew build`, `npm run`, etc. –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–≤–æ–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π
- ‚ùå Git commit —Å –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏ –∫–æ–¥–∞
- ‚ùå "–Ø –Ω–∞—á–Ω—É —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é" / "–ü—Ä–∏—Å—Ç—É–ø–∞—é –∫ –∫–æ–¥—É"
- ‚ùå Exploration –∫–æ–¥–æ–≤–æ–π –±–∞–∑—ã –≤–º–µ—Å—Ç–æ Codex (—ç—Ç–æ –∑–∞–¥–∞—á–∞ PLAN —Ñ–∞–∑—ã Codex)
- ‚ùå –ì–µ–Ω–µ—Ä–∞—Ü–∏—è prompt-apply.md –¥–æ –ø–æ–ª—É—á–µ–Ω–∏—è findings –æ—Ç Codex PLAN
- ‚ùå –£–ø–æ–º–∏–Ω–∞–Ω–∏–µ prompt-review.md (–µ–≥–æ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)

---

## STOP-THE-LINE: –ì—Ä–∞–Ω–∏—Ü–∞ –ø–µ—Ä–µ–¥–∞—á–∏ –≤ Codex

### –ü–∞–π–ø–ª–∞–π–Ω –ø—Ä–æ–º–ø—Ç–æ–≤ (–°–¢–†–û–ì–û –ø–æ –æ—á–µ—Ä–µ–¥–∏):

```
prompt-plan.md ‚Üí STOP ‚Üí Codex PLAN ‚Üí findings ‚Üí prompt-apply.md ‚Üí STOP ‚Üí Codex APPLY ‚Üí Claude review (–Ω–∞–ø—Ä—è–º—É—é)
```

**–í–ê–ñ–ù–û:**
- `prompt-review.md` –ù–ï —Å—É—â–µ—Å—Ç–≤—É–µ—Ç ‚Äî review –¥–µ–ª–∞–µ—Ç Claude –Ω–∞–ø—Ä—è–º—É—é
- `prompt-apply.md` –≥–µ–Ω–µ—Ä–∏—Ç—Å—è –¢–û–õ–¨–ö–û –ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è findings –æ—Ç Codex PLAN
- –ù–µ–ª—å–∑—è –≥–µ–Ω–µ—Ä–∏—Ç—å prompt-plan –∏ prompt-apply –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ

### –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è `prompt-plan.md`:
```
STOP. –í—ã–≤–µ—Å—Ç–∏:
"‚úÖ prompt-plan.md –≥–æ—Ç–æ–≤.
üì§ –ü–µ—Ä–µ–¥–∞–π—Ç–µ –≤ Codex –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è PLAN —Ñ–∞–∑—ã (read-only exploration).
‚è∏Ô∏è –ñ–¥—É findings –æ—Ç Codex –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ prompt-apply.md."
```

**–ù–ï –î–ï–õ–ê–¢–¨:** exploration —Å–∞–º–æ–º—É, —Å–æ–∑–¥–∞–Ω–∏–µ prompt-apply.md

### –ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è findings –æ—Ç Codex PLAN:
```
–°–æ–∑–¥–∞—Ç—å prompt-apply.md —Å —É—á—ë—Ç–æ–º findings.
STOP. –í—ã–≤–µ—Å—Ç–∏:
"‚úÖ prompt-apply.md –≥–æ—Ç–æ–≤ (—Å —É—á—ë—Ç–æ–º PLAN findings).
üì§ –ü–µ—Ä–µ–¥–∞–π—Ç–µ –≤ Codex –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è APPLY —Ñ–∞–∑—ã (implementation).
‚è∏Ô∏è –ñ–¥—É –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è APPLY –¥–ª—è –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è review."
```

### –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è Codex APPLY:
```
Claude –ø—Ä–æ–≤–æ–¥–∏—Ç review –Ω–∞–ø—Ä—è–º—É—é (—á–µ—Ä–µ–∑ codex-review-gate –∞–≥–µ–Ω—Ç–∞).
–í—ã–¥–∞—ë—Ç GO/NO-GO —Å Must-fix / Should-fix.
prompt-review.md –ù–ï —Å–æ–∑–¥–∞—ë—Ç—Å—è.
```

---

## Self-Check –ø–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º –¥–µ–π—Å—Ç–≤–∏–µ–º

–ü–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Edit/Write –Ω–∞ —Ñ–∞–π–ª–∞—Ö –∫–æ–¥–∞, —Å–ø—Ä–æ—Å–∏—Ç—å —Å–µ–±—è:

1. **–≠—Ç–æ —Ñ–∞–π–ª –≤ `docs/`?** ‚Üí –†–∞–∑—Ä–µ—à–µ–Ω–æ (–∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã)
2. **–≠—Ç–æ —Ñ–∞–π–ª –≤ `src/` –∏–ª–∏ `test/`?** ‚Üí –ó–ê–ü–†–ï–©–ï–ù–û (–∫–æ–¥ = Codex)
3. **–≠—Ç–æ `.md` –ø—Ä–æ–º–ø—Ç –¥–ª—è Codex?** ‚Üí –†–∞–∑—Ä–µ—à–µ–Ω–æ, –Ω–æ STOP –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è

---

## –¢—Ä–∏–≥–≥–µ—Ä—ã –¥–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏

–ï—Å–ª–∏ –≤ –≥–æ–ª–æ–≤–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –º—ã—Å–ª—å:
- "–°–µ–π—á–∞—Å –¥–æ–±–∞–≤–ª—é —ç—Ç–æ—Ç –º–µ—Ç–æ–¥..."
- "–°–æ–∑–¥–∞–º —ç—Ç–æ—Ç DTO..."
- "–ù–∞—á–Ω—É —Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏..."
- "–ü—Ä–∏—Å—Ç—É–ø–∞—é –∫ –∫–æ–¥—É..."

‚Üí **STOP. –≠—Ç–æ –∑–∞–¥–∞—á–∞ Codex, –Ω–µ Claude.**

---

## –ß—Ç–æ –¥–µ–ª–∞—Ç—å –ø—Ä–∏ "–¥–∞–≤–∞–π" / "–ø—Ä–æ–¥–æ–ª–∂–∞–π"

–ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≥–æ–≤–æ—Ä–∏—Ç "–¥–∞–≤–∞–π" –∏–ª–∏ "–ø—Ä–æ–¥–æ–ª–∂–∞–π":

1. –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å: –Ω–∞ –∫–∞–∫–æ–º —ç—Ç–∞–ø–µ –ø–∞–π–ø–ª–∞–π–Ω–∞ —è –Ω–∞—Ö–æ–∂—É—Å—å?
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å: –µ—Å—Ç—å –ª–∏ findings –æ—Ç Codex PLAN?

| –≠—Ç–∞–ø | –î–µ–π—Å—Ç–≤–∏–µ |
|------|----------|
| –ù–µ—Ç workpack | –°–æ–∑–¥–∞—Ç—å workpack ‚Üí STOP |
| Workpack –µ—Å—Ç—å, –Ω–µ—Ç prompt-plan | –°–æ–∑–¥–∞—Ç—å prompt-plan.md ‚Üí STOP |
| prompt-plan –µ—Å—Ç—å, –Ω–µ—Ç findings –æ—Ç Codex | –°–∫–∞–∑–∞—Ç—å "–ñ–¥—É findings –æ—Ç Codex PLAN" ‚Üí STOP |
| –ï—Å—Ç—å findings, –Ω–µ—Ç prompt-apply | –°–æ–∑–¥–∞—Ç—å prompt-apply.md ‚Üí STOP |
| prompt-apply –µ—Å—Ç—å, Codex –Ω–µ –≤—ã–ø–æ–ª–Ω–∏–ª APPLY | –°–∫–∞–∑–∞—Ç—å "–ñ–¥—É –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è Codex APPLY" ‚Üí STOP |
| APPLY –≤—ã–ø–æ–ª–Ω–µ–Ω | –ü—Ä–æ–≤–µ—Å—Ç–∏ review –Ω–∞–ø—Ä—è–º—É—é |

**–ù–∏–∫–æ–≥–¥–∞:**
- –ù–µ –≥–µ–Ω–µ—Ä–∏—Ç—å prompt-plan + prompt-apply –≤–º–µ—Å—Ç–µ
- –ù–µ –¥–µ–ª–∞—Ç—å exploration –≤–º–µ—Å—Ç–æ Codex
- –ù–µ —É–ø–æ–º–∏–Ω–∞—Ç—å prompt-review.md

---

## –ò—Å–∫–ª—é—á–µ–Ω–∏—è (–∫–æ–≥–¥–∞ Claude –º–æ–∂–µ—Ç —Ç—Ä–æ–≥–∞—Ç—å –∫–æ–¥)

1. **Fix pre-existing test failures** ‚Äî –µ—Å–ª–∏ —è–≤–Ω–æ –ø–æ–ø—Ä–æ—Å–∏–ª–∏ –ø–æ—á–∏–Ω–∏—Ç—å —Å–ª–æ–º–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –î–û –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—ã –ø–æ story
2. **Hotfix –ø–æ —è–≤–Ω–æ–º—É –∑–∞–ø—Ä–æ—Å—É** ‚Äî "Claude, –∏—Å–ø—Ä–∞–≤—å –≤–æ—Ç —ç—Ç—É —Å—Ç—Ä–æ–∫—É" (—Ç–æ—á–µ—á–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ)
3. **–î–µ–º–æ/—ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç** ‚Äî —è–≤–Ω—ã–π –∑–∞–ø—Ä–æ—Å "–ø–æ–∫–∞–∂–∏ –∫–∞–∫ —ç—Ç–æ –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –≤ –∫–æ–¥–µ"

–í –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —Å–ª—É—á–∞—è—Ö: **–∫–æ–¥ = Codex**.
